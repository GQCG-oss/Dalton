#!/bin/bash
TMP_DIR=/gpfshome/kemi/tkjaer/NightlyTestingCdash/tmp/daltonRelease
SCRATCH_DIR=/gpfshome/kemi/tkjaer/NightlyTestingCdash/scratch
rm -rf $TMP_DIR
rm -rf $SCRATCH_DIR
mkdir -p $TMP_DIR
mkdir -p $SCRATCH_DIR
svn co http://dirac.chem.sdu.dk/svnDalton/dalton/branches/linsca-develop $TMP_DIR
sleep 2
svn co http://dirac.chem.sdu.dk/svnDalton/dalton/branches/linsca-develop $TMP_DIR
svn co http://dirac.chem.sdu.dk/svnDalton/dalton/branches/linsca-develop $TMP_DIR
sleep 2
svn co http://dirac.chem.sdu.dk/svnDalton/dalton/branches/linsca-develop $TMP_DIR
svn co http://dirac.chem.sdu.dk/svnDalton/dalton/branches/linsca-develop $TMP_DIR
sleep 60
svn co http://dirac.chem.sdu.dk/svnDalton/dalton/branches/linsca-develop $TMP_DIR
sleep 2
svn co http://dirac.chem.sdu.dk/svnDalton/dalton/branches/linsca-develop $TMP_DIR
svn co http://dirac.chem.sdu.dk/svnDalton/dalton/branches/linsca-develop $TMP_DIR
cd $TMP_DIR
mkdir -p $TMP_DIR/build
cd $TMP_DIR/build
setenv OMP_NUM_THREADS 4
#-DUSERDEFINED_LIBS="-Llib -L/usr/lib -lxlsmp -lmass -lmassv -L/usr/local/mass -lpthread -lC -lesslsmp6464" 
#-DENABLE_64BIT_INTEGERS=1 -DENABLE_OMP=1 
#cmake -DCMAKE_Fortran_COMPILER=/usr/bin/xlf90_r -DCMAKE_C_COMPILER=/usr/vacpp/bin/xlc -DCMAKE_BUILD_TYPE=Release -DBUILDNAME=Huge-AIX-XL-Release -DSCRATCH_DIR=$SCRATCH_DIR /gpfshome/kemi/tkjaer/NightlyTestingCdash/tmp/daltonRelease

#-DUSERDEFINED_BLAS="-Llib -L/usr/lib -lxlsmp -lmass -lmassv -L/usr/local/mass -lpthread -lC -lesslsmp6464"

cmake -DCMAKE_Fortran_COMPILER=/usr/bin/xlf90_r -DCMAKE_C_COMPILER=/usr/vacpp/bin/xlc -DCMAKE_BUILD_TYPE=Release -DENABLE_OMP=1 -DBUILDNAME=Huge-AIX-XL-Release -DENABLE_64BIT_INTEGERS=1 -DENABLE_INTERNAL_MATH=1 -DSCRATCH_DIR=$SCRATCH_DIR /gpfshome/kemi/tkjaer/NightlyTestingCdash/tmp/daltonRelease

cd $TMP_DIR/build
make Nightly
