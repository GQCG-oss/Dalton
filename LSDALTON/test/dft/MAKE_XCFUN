#/bin/bash
#### Simen Reine: provide functional name in small letter to set up a simple testcase for a new functional
dal=$1
DAL=`echo $dal | tr '[:lower:]' '[:upper:]'`
mkdir LSDALTON_dftfunc_xcfun_$dal
git add LSDALTON_dftfunc_xcfun_$dal

cp LSDALTON_dftfunc_vwn3/h2o.mol LSDALTON_dftfunc_xcfun_$dal
echo '**GENERAL'  > LSDALTON_dftfunc_xcfun_$dal/$dal.dal
echo '.XCFUN'    >> LSDALTON_dftfunc_xcfun_$dal/$dal.dal
more LSDALTON_dftfunc_vwn3/vwn3.dal | sed "s/VWN3/"$DAL"/g" >> LSDALTON_dftfunc_xcfun_$dal/$dal.dal
more LSDALTON_dftfunc_vwn3/test     | sed "s/vwn3/"$dal"/g" > LSDALTON_dftfunc_xcfun_$dal/test
mkdir LSDALTON_dftfunc_xcfun_$dal/result
cd LSDALTON_dftfunc_xcfun_$dal
~/Dalton/2014/build-debug5.0/lsdalton $dal h2o
cd ..
cp LSDALTON_dftfunc_xcfun_$dal/${dal}_h2o.out LSDALTON_dftfunc_xcfun_$dal/result/

git add LSDALTON_dftfunc_xcfun_$dal/h2o.mol
git add LSDALTON_dftfunc_xcfun_$dal/$dal.dal
git add LSDALTON_dftfunc_xcfun_$dal/test
git add LSDALTON_dftfunc_xcfun_$dal/result
git add LSDALTON_dftfunc_xcfun_$dal/result/${dal}_h2o.out

