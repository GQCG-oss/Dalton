#!/bin/sh
#
# This is the script for generating files for a specific Dalton test job.
#
# For the .check file ksh or bash is preferred, otherwise use sh
# (and hope it is not the old Bourne shell, which will not work)
#
if [ -e /bin/ksh ]; then
   CHECK_SHELL='#!/bin/ksh'
elif [ -e /bin/bash ]; then
   CHECK_SHELL='#!/bin/bash'
else
   CHECK_SHELL='#!/bin/sh'
fi


#######################################################################
#  TEST DESCRIPTION
#######################################################################
echo $0
cat << EODAL > rsp_g_rohf.dal
**DALTON INPUT
.RUN RESPONSE
**INTEGRAL
.ANGMOM
.SPIN-ORBIT
**WAVE FUNCTIONS
.HF
*SCF INPUT
.THRESHOLD
1e-12
**RESPONSE
*ESR
#.PRINT
# 200
.G-TENSOR
.OZSO1
.OZSO2
.ADD-SO
#.ECC
**END OF DALTON INPUT

EODAL
cat << EOMOL > rsp_g_rohf.mol
ATOMBASIS
STO-3G
------
    2   1 Z
        6.    1 Basis=STO-3G
C1      0.0006122714    0.0000000000    0.0000000000   
        1.    2 Basis=STO-3G
H1      1.5162556382   -1.3708721537    0.0000000000
H2     -0.7584339548    0.6854360769    1.7695110698

EOMOL
cat << EOREF > rsp_g_rohf.ref


    ******************************************************************
    ***********  DALTON - An electronic structure program  ***********
    ******************************************************************

          This is output from DALTON (Release 2.0, ? 2004)

                          Principal authors:

          Trygve Helgaker,       University of Oslo,           Norway 
          Hans Joergen Jensen,   SDU - Odense University,      Denmark
          Poul Joergensen,       Aarhus University,            Denmark
          Jeppe Olsen,           Aarhus University,            Denmark
          Kenneth Ruud,          University of Tromsoe,        Norway 
          Hans Aagren,           KTH Stockholm,                Sweden 

                          Contributors:

          Alexander A. Auer,     University of Mainz,          Germany
          Keld L. Bak,           UNI-C,                        Denmark
          Vebjoern Bakken,       University of Oslo,           Norway 
          Ove Christiansen,      University of Lund,           Sweden 
          Sonia Coriani,         University of Trieste,        Italy  
          Paal Dahle,            University of Oslo,           Norway 
          Erik K. Dalskov,       UNI-C,                        Denmark
          Thomas Enevoldsen,     SDU - Odense University,      Denmark
          Berta Fernandez,       U. of Santiago de Compostela, Spain  
          Christof Haettig,      Forschungszentrum Karlsruhe,  Germany
          Kasper Hald,           Aarhus University,            Denmark
          Asger Halkier,         Aarhus University,            Denmark
          Hanne Heiberg,         University of Oslo,           Norway 
          Hinne Hettema,         University of Auckland,       NZ     
          Dan Jonsson,           KTH Stockholm                 Sweden 
          Sheela Kirpekar,       SDU - Odense University,      Denmark
          Wim Klopper,           University of Karlsruhe,      Germany
          Rika Kobayashi,        Cambridge University,         England
          Henrik Koch,           University of Trondheim,      Norway 
          Kurt V. Mikkelsen,     University of Copenhagen,     Denmark
          Patrick Norman,        University of Linkoeping,     Sweden 
          Thomas B. Pedersen,    U. of Santiago de Compostela, Spain  
          Martin J. Packer,      University of Sheffield,      UK     
          Zilvinas Rinkevicius   KTH Stockholm,                Sweden 
          Torgeir A. Ruden,      University of Oslo,           Norway 
          Pawel Salek,           KTH Stockholm,                Sweden 
          Alfredo Sanchez,       University of Valencia,       Spain  
          Trond Saue,            University of Toulouse,       France 
          Stephan P. A. Sauer,   University of Copenhagen,     Denmark
          Bernd Schimmelpfennig, KTH Stockholm,                Sweden 
          K. O. Sylvester-Hvid,  University of Copenhagen,     Denmark
          Peter R. Taylor,       University of Warwick,        UK     
          Olav Vahtras,          KTH Stockholm,                Sweden 

 ---------------------------------------------------------------------


     NOTE:
      
     This is an experimental code for the evaluation of molecular
     properties using (MC)SCF wave functions. The authors accept no
     responsibility for the performance of the code or for the
     correctness of the results.
      
     The code (in whole or part) is provided under a licence and
     is not to be reproduced for further distribution without
     the written permission of the authors or their representatives.
     See licence agreement for further information.
      
     If results obtained with this code are published, an
     appropriate citation would be:
      
     "Dalton, a molecular electronic structure program, Release 1.2
     (2001), written by T. Helgaker, H. J. Aa. Jensen, P. Joergensen,
     J. Olsen, K. Ruud, H. Aagren, A.A. Auer, K.L. Bak, V. Bakken,
     O. Christiansen, S. Coriani, P. Dahle, E. K. Dalskov,
     T. Enevoldsen, B. Fernandez, C. Haettig, K. Hald, A. Halkier,
     H. Heiberg, H. Hettema, D. Jonsson, S. Kirpekar, W. Klopper,
     R. Kobayashi, H. Koch, K. V. Mikkelsen, P. Norman, M. J. Packer,
     T. B. Pedersen, T. A. Ruden, P. Salek, A. Sanchez, T. Saue, 
     S. P. A. Sauer, B. Schimmelpfennig, K. O. Sylvester-Hvid, 
     P. R. Taylor and O. Vahtras"

 
     Date and time (Linux)  : Wed Aug 25 16:57:45 2004
     Host name              : bio79-63.biotech.kth.se                 

 <<<<<<<<<< OUTPUT FROM GENERAL INPUT PROCESSING >>>>>>>>>>


 Default print level:        0

    Integral sections will be executed
    "Old" integral transformation used (limited to max 255 basis functions)
    Wave function sections will be executed
    Dynamic molecular property section will be executed

Starting in Integral Section -



 *************************************************************************
 ****************** Output from HERMIT input processing ******************
 *************************************************************************


 Default print level:        1

 * Nuclear model: Point charge

 Calculation of one- and two-electron Hamiltonian integrals.

 The following one-electron property integrals are calculated:
          - overlap integrals
          - spatial spin-orbit integrals
          - electronic angular momentum around the origin


 *************************************************************************
 ****************** Output from READIN input processing ******************
 *************************************************************************



  Title Cards
  -----------

  STO-3G                                                                  
  ------                                                                  

  *** WARNING from READIN ***

  Threshold for discarding integrals was    0.00E+00
  Threshold is reset to minimum value       1.00E-15


  Symmetry Operations
  -------------------

  Symmetry operations: 1



                      SYMGRP:Point group information
                      ------------------------------

Point group: Cs 

   * The point group was generated by:

      Reflection in the xy-plane

   * Group multiplication table

        |  E   Oxy
   -----+----------
     E  |  E 
    Oxy | Oxy   E 

   * Character table

        |  E   Oxy
   -----+----------
    A'  |   1    1
    A"  |   1   -1

   * Direct product table

        | A'   A" 
   -----+----------
    A'  | A' 
    A"  | A"   A' 


                             Isotopic Masses
                             ---------------

                           C1         12.000000
                           H1          1.007825
                           H2   1      1.007825
                           H2   2      1.007825

                       Total mass:    15.023475 amu
                       Natural abundance:  98.856 %

 Center-of-mass coordinates (A):    0.000448    0.000000    0.000000


  Atoms and basis sets
  --------------------

  Number of atom types:     2
  Total number of atoms:    4

  label    atoms   charge   prim    cont     basis
  ----------------------------------------------------------------------
  C1          1       6      15       5      [6s3p|2s1p]                                  
  H1          1       1       3       1      [3s|1s]                                      
  H2          2       1       3       1      [3s|1s]                                      
  ----------------------------------------------------------------------
  total:      4       9      24       8
  ----------------------------------------------------------------------

  Threshold for integrals:  1.00E-15


  Cartesian Coordinates
  ---------------------

  Total number of coordinates: 12

   1   C1       x      0.0006122714
   2            y      0.0000000000
   3            z      0.0000000000

   4   H1       x      1.5162556382
   5            y     -1.3708721537
   6            z      0.0000000000

   7   H2   1   x     -0.7584339548
   8            y      0.6854360769
   9            z      1.7695110698

  10   H2   2   x     -0.7584339548
  11            y      0.6854360769
  12            z     -1.7695110698


  Symmetry Coordinates
  --------------------

  Number of coordinates in each symmetry:   7  5


  Symmetry 1

   1   C1    x    1
   2   C1    y    2
   3   H1    x    4
   4   H1    y    5
   5   H2    x    [  7  +  10 ]/2
   6   H2    y    [  8  +  11 ]/2
   7   H2    z    [  9  -  12 ]/2


  Symmetry 2

   8   C1    z    3
   9   H1    z    6
  10   H2    x    [  7  -  10 ]/2
  11   H2    y    [  8  -  11 ]/2
  12   H2    z    [  9  +  12 ]/2


   Interatomic separations (in Angstroms):
   ---------------------------------------

            C1          H1          H2   1      H2   2
            ------      ------      ------      ------
 C1    :    0.000000
 H1    :    1.081448    0.000000
 H2   1:    1.081536    1.873451    0.000000
 H2   2:    1.081536    1.873451    1.872770    0.000000


  Max interatomic separation is    1.8735 Angstroms
  between atoms "H2   1" and "H1    ".


  Bond distances (angstroms):
  ---------------------------

                  atom 1     atom 2       distance
                  ------     ------       --------
  bond distance:  H1         C1           1.081448
  bond distance:  H2   1     C1           1.081536
  bond distance:  H2   2     C1           1.081536


  Bond angles (degrees):
  ----------------------

                  atom 1     atom 2     atom 3         angle
                  ------     ------     ------         -----
  bond angle:     H1         C1         H2   1       120.027
  bond angle:     H1         C1         H2   2       120.027
  bond angle:     H2   1     C1         H2   2       119.947




 Principal moments of inertia (u*A**2) and principal axes
 --------------------------------------------------------

   IA    1.767356          0.741819   -0.670600    0.000000
   IB    1.769070          0.000000    0.000000    1.000000
   IC    3.536425          0.670600    0.741819    0.000000


 Rotational constants
 --------------------

 The molecule is planar.

               A                   B                   C

         285952.0370         285675.0046         142906.7432 MHz
            9.538333            9.529092            4.766856 cm-1


  Nuclear repulsion energy :    9.654822539961


  Symmetry Orbitals
  -----------------

  Number of orbitals in each symmetry:               6   2


  Symmetry  A' ( 1)

    1     C1       1s         1
    2     C1       1s         2
    3     C1       2px        3
    4     C1       2py        4
    5     H1       1s         6
    6     H2       1s         7  +   8


  Symmetry  A" ( 2)

    7     C1       2pz        5
    8     H2       1s         7  -   8

  Symmetries of electric field:  A' (1)  A' (1)  A" (2)

  Symmetries of magnetic field:  A" (2)  A" (2)  A' (1)


 ************************************************************************
 ************************** Output from HERINT **************************
 ************************************************************************


 >>> Time used in OVERLA is   0.01 seconds


 >>> Time used in SPNORB is   0.00 seconds


 >>> Time used in ANGMOM is   0.01 seconds


 >>> Time used in ONEDRV is   0.01 seconds


 Number of two-electron integrals written:         335 ( 50.3% )
 Megabytes written:                              0.007



 >>> Time used in TWOINT is   0.02 seconds


 >>> Time used in TWOINT is   0.09 seconds


   Two-electron spin-orbit integrals
   =================================
   Spin-orbit 2-electron CPU  time    0. seconds
   Spin-orbit 2-electron wall time    0. seconds
 >>>> Total CPU  time used in HERMIT:   0.19 seconds
 >>>> Total wall time used in HERMIT:   0.00 seconds

- End of Integral Section


Starting in Wave Function Section -

 **********************************************************************
 *SIRIUS* a direct, restricted step, second order MCSCF program       *
 **********************************************************************

 
     Date and time (Linux)  : Wed Aug 25 16:57:45 2004
     Host name              : bio79-63.biotech.kth.se                 

 Title lines from integral program:
     STO-3G                                                                  
     ------                                                                  

 Print level on unit LUPRI =   2 is   0
 Print level on unit LUW4  =   2 is   5

     Restricted, one open shell Hartree-Fock calculation.


     Time-dependent Hartree-Fock calculation (random phase approximation).


 Initial molecular orbitals are obtained according to
 ".MOSTART HUCKEL" input option.

     Wave function specification
     ============================
     Number of closed shell electrons          8
     Number of electrons in active shells      1
     Total charge of the molecule              0

     Number of active orbitals                 1
     Total number of orbitals                  8

     Spin multiplicity                         2
     Total number of symmetries                2
     Reference state symmetry                  1

     Orbital specifications
     ======================
     Abelian symmetry species           1   2
                                       --  --
     Total number of orbitals           6   2
     Number of basis functions          6   2

      ** Automatic occupation of RHF orbitals **
      -- Initial occupation of symmetries is determined from Huckel guess.                    
      -- Initial occupation of symmetries is : --

     Occupied SCF orbitals              3   1

     plus one open shell SCF orbital of symmetry   1

     Maximum number of Fock   iterations      0
     Maximum number of DIIS   iterations     60
     Maximum number of QC-SCF iterations     15
     Threshold for SCF convergence     1.00E-12


 >>>>> DIIS optimization of Hartree-Fock <<<<<

 C1-DIIS algorithm; max error vectors =   10

 Automatic occupation of symmetries with   9 electrons.
 "sym." is the symmetry of the one open shell orbital in table below.

 Iter     Total energy    Error norm  Delta(E)  sym.  closed shell occupation
 -----------------------------------------------------------------------------

 Precalculated two-electron integrals are transformed to P-supermatrix elements.
 Threshold for discarding integrals :  1.00E-15

 >>> Time used in FRMSUP is   0.00 seconds

   1    -38.996528037885   2.21E+00  -3.90E+01   1    3  1
   2    -39.071090721460   1.41E-01  -7.46E-02   1    3  1
   3    -39.072042654928   1.91E-02  -9.52E-04   1    3  1
   4    -39.072083320558   2.09E-03  -4.07E-05   1    3  1
   5    -39.072083833200   6.68E-06  -5.13E-07   1    3  1
   6    -39.072083833206   1.32E-06  -6.60E-12   1    3  1
   7    -39.072083833207   4.40E-07  -9.24E-13   1    3  1
   8    -39.072083833208   1.50E-07  -1.07E-13   1    3  1
   9    -39.072083833208   4.77E-08  -7.11E-15   1    3  1
  10    -39.072083833208   1.54E-08   0.00E+00   1    3  1
  11    -39.072083833208   4.96E-09  -7.11E-15   1    3  1
  12    -39.072083833208   1.60E-09   1.42E-14   1    3  1
  13    -39.072083833208   5.16E-10  -7.11E-15   1    3  1
  14    -39.072083833208   1.66E-10  -3.55E-14   1    3  1
  15    -39.072083833208   5.36E-11   0.00E+00   1    3  1
  16    -39.072083833208   1.73E-11  -7.11E-15   1    3  1
  17    -39.072083833208   5.58E-12  -2.13E-14   1    3  1
  18    -39.072083833208   1.80E-12   1.42E-14   1    3  1
  19    -39.072083833208   5.81E-13  -1.42E-14   1    3  1
 DIIS converged in  19 iterations !


 *** RHF orbital energy analysis ***

 Orbital energy analysis for an open-shell system.
 Orbital energies are not well-defined for open-shell systems
   here is used block diagonalization of the FD=FC+FV Fock matrix.
 NOTE that Koopmans' theorem is not fulfilled for this case.

 Only the five lowest virtual orbital energies printed in each symmetry.

 Number of electrons :    8
 Orbital occupations :    3    1

 Hartree-Fock orbital energies, symmetry 1

       -10.98943324    -0.84763304    -0.52844117    -0.01059649     0.65652348
         0.77992186

 Hartree-Fock orbital energies, symmetry 2

        -0.52824263     0.77942812

    E(LUMO) :     0.65652348 au (symmetry 1)
  - E(HOMO) :    -0.52824263 au (symmetry 2)
  ------------------------------------------
    gap     :     1.18476611 au

and E(SOMO) :    -0.01059649 au (symmetry 1)

 >>> Writing SIRIFC interface file <<<


                    >>> FINAL RESULTS FROM SIRIUS <<<

     Spin multiplicity:           2
     Spatial symmetry:            1
     Total charge of molecule:    0

     Final HF energy:             -39.072083833208
     Nuclear repulsion:             9.654822539961
     Electronic energy:           -48.726906373169

     Final gradient norm:           0.000000000001

 
     Date and time (Linux)  : Wed Aug 25 16:57:45 2004
     Host name              : bio79-63.biotech.kth.se                 

     Molecular orbitals for symmetry species   1

 Orbital          1        2        3        4
   1  C1  1s     0.9924  -0.2229   0.0000  -0.0001
   2  C1  1s     0.0344   0.6463   0.0001   0.0005
   3  C1  2px    0.0000  -0.0001   0.4070   0.6706
   4  C1  2py    0.0000  -0.0001  -0.3679   0.7418
   5  H1  1s    -0.0068   0.2235   0.4959  -0.0001
   6  H2  1s    -0.0068   0.2235  -0.2480  -0.0001

     Molecular orbitals for symmetry species   2

 Orbital          1
   1  C1  2pz    0.5487
   2  H2  1s     0.4296



 >>>> Total CPU  time used in SIRIUS :      0.05 seconds
 >>>> Total wall time used in SIRIUS :      0.00 seconds

 
     Date and time (Linux)  : Wed Aug 25 16:57:45 2004
     Host name              : bio79-63.biotech.kth.se                 

- End of Wave Function Section



  This is output from RESPONSE  -  an MCSCF and SOPPA response property program
 ------------------------------------------------------------------------------



 <<<<<<<<<< OUTPUT FROM RESPONSE INPUT PROCESSING >>>>>>>>>>




 CHANGES OF DEFAULTS FOR GINP:
 -----------------------------


 Selected contributions to electronic g_tensor:

   One-electron spin-orbit + orbital Zeeman correction

   Two-electron spin-orbit + orbital Zeeman correction

 ********* ESRINP ********

 *ESR   input ignored because no operators requested.

    1 second order properties calculated with symmetry no.    1 and labels:

          ZANGMOM 

    2 second order properties calculated with symmetry no.    2 and labels:

          XANGMOM 
          YANGMOM 


 open shell SCF energy:      -39.072083833207600
 -- inactive part     :      -48.379893502353241
 --   active part     :       -0.347012870815259
 -- nuclear repulsion :        9.654822539960900


 open shell SCF energy:      -39.072083833207600
 -- inactive part     :      -48.379893502353241
 --   active part     :       -0.347012870815259
 -- nuclear repulsion :        9.654822539960900


 Perturbation symmetry.     KSYMOP:       1
 Perturbation spin symmetry.TRPLET:       F
 Orbital variables.         KZWOPT:      12
 Configuration variables.   KZCONF:       0
 Total number of variables. KZVAR :      12


 RSPLR -- linear response calculation for symmetry  1
 RSPLR -- operator label : ZANGMOM 
 RSPLR -- frequencies :   0.000000



 <<<  SOLVING SETS OF LINEAR EQUATIONS FOR LINEAR RESPONSE PROPERTIES >>>

 Operator symmetry =  1; triplet =   F


 *** THE REQUESTED    1 SOLUTION VECTORS CONVERGED

 Convergence of RSP solution vectors, threshold = 1.00E-03
 ---------------------------------------------------------------
 (dimension of paired reduced space:    4)
 RSP solution vector no.    1; norm of residual   2.61E-04

 *** RSPCTL MICROITERATIONS CONVERGED


       Final output of second order properties from linear response
       ------------------------------------------------------------


@ Spin symmetry of operators: singlet

 Note that minus the linear response function: - << A; B >>(omega) is printed.
 The results are of quadratic accuracy using Sellers formula.

@ FREQUENCY INDEPENDENT SECOND ORDER PROPERTIES

@ -<< ZANGMOM  ; ZANGMOM  >> =  4.948760893323E+00


 Perturbation symmetry.     KSYMOP:       2
 Perturbation spin symmetry.TRPLET:       F
 Orbital variables.         KZWOPT:       7
 Configuration variables.   KZCONF:       0
 Total number of variables. KZVAR :       7


 RSPLR -- linear response calculation for symmetry  2
 RSPLR -- operator label : XANGMOM 
 RSPLR -- frequencies :   0.000000



 <<<  SOLVING SETS OF LINEAR EQUATIONS FOR LINEAR RESPONSE PROPERTIES >>>

 Operator symmetry =  2; triplet =   F


 *** THE REQUESTED    1 SOLUTION VECTORS CONVERGED

 Convergence of RSP solution vectors, threshold = 1.00E-03
 ---------------------------------------------------------------
 (dimension of paired reduced space:    6)
 RSP solution vector no.    1; norm of residual   4.46E-06

 *** RSPCTL MICROITERATIONS CONVERGED


 RSPLR -- linear response calculation for symmetry  2
 RSPLR -- operator label : YANGMOM 
 RSPLR -- frequencies :   0.000000



 <<<  SOLVING SETS OF LINEAR EQUATIONS FOR LINEAR RESPONSE PROPERTIES >>>

 Operator symmetry =  2; triplet =   F


 *** THE REQUESTED    1 SOLUTION VECTORS CONVERGED

 Convergence of RSP solution vectors, threshold = 1.00E-03
 ---------------------------------------------------------------
 (dimension of paired reduced space:    6)
 RSP solution vector no.    1; norm of residual   2.03E-04

 *** RSPCTL MICROITERATIONS CONVERGED


       Final output of second order properties from linear response
       ------------------------------------------------------------


@ Spin symmetry of operators: singlet

 Note that minus the linear response function: - << A; B >>(omega) is printed.
 The results are of quadratic accuracy using Sellers formula.

@ FREQUENCY INDEPENDENT SECOND ORDER PROPERTIES

@ -<< XANGMOM  ; XANGMOM  >> =  3.682965594498E+00
@ -<< XANGMOM  ; YANGMOM  >> = -1.402836384076E+00
@ -<< YANGMOM  ; YANGMOM  >> =  3.399305050688E+00


     Electronic g-tensor (ppm)
    ==========================



    Spin-orbit+orbital-Zeeman contribution
    --------------------------------------

      141.      -86.        0.
      -86.      124.        0.
        0.        0.      218.


    Total g-tensor shift
    --------------------

      141.      -86.        0.
      -86.      124.        0.
        0.        0.      218.


    Total g-tensor
    --------------

  2.002460 -0.000086  0.000000
 -0.000086  2.002443  0.000000
  0.000000  0.000000  2.002538


 G-shift components (ppm)
 ------------------------

@G           xx     yy     zz     xy     yx                                     
@G OZ-SO    141.   124.   218.   -86.   -86.                                    
@G Total    141.   124.   218.   -86.   -86.                                    


 G-shift/tensor eigenvalues and cosines
 --------------------------------------

               g-shift      g-tensor       direction cosines
       1      0.000047      2.002366 -0.6706 -0.7418  0.0000
       2      0.000218      2.002538  0.0000  0.0000  1.0000
       3      0.000219      2.002538 -0.7418  0.6706  0.0000
     ave      0.000161      2.002480

 >>>> Total CPU  time used in RESPONSE:   0.03 seconds
 >>>> Total wall time used in RESPONSE:   0.00 seconds
 >>>> Total CPU  time used in DALTON:   0.27 seconds
 >>>> Total wall time used in DALTON:   0.00 seconds

 
     Date and time (Linux)  : Wed Aug 25 16:57:45 2004
     Host name              : bio79-63.biotech.kth.se                 
EOREF
cat << 'EOCHK' > rsp_g_rohf.check
log=$1
GREP=egrep

# ?
CRIT1=`$GREP "Final HF energy\: * \-39\.0720838332[01]" $log | wc -l`
TEST[1]=`expr	$CRIT1`
CTRL[1]=1
ERROR[1]="ENERGY NOT CORRECT"

# ?
CRIT1=`$GREP "\@G * xx * yy * zz * xy * yx" $log | wc -l`
CRIT2=`$GREP "\@G OZ\-SO * 141\. * 124\. * 218\. * \-86\. * \-86\." $log | wc -l`
CRIT3=`$GREP "\@G Total * 141\. * 124\. * 218\. * \-86\. * \-86\." $log | wc -l`
TEST[2]=`expr	$CRIT1 \+ $CRIT2 \+ $CRIT3`
CTRL[2]=3
ERROR[2]="G-TENSOR NOT CORRECT"
str="1 2"
PASSED=1
for i in $str
do
   if [ ${TEST[i]} -ne ${CTRL[i]} ]; then
     echo ${ERROR[i]}
     PASSED=0
   fi
done

if [ $PASSED -eq 1 ]
then
  echo TEST ENDED PROPERLY
  exit 0
else
  echo THERE IS A PROBLEM
  exit 1
fi
EOCHK
